<!doctype html>
<html lang="de">
<head>
    <title>Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../index.css">
    <style>
        #container {
            width: 100vw;
            height: 100vh;
            padding: 20px;
        }

    </style>
</head>
<body>
<noscript><strong>Please enable JavaScript to view this page correctly.</strong></noscript>
<header>

</header>
<main>

    <div id="container">

        <svg id="mainSvg" width="1496" height="812">
            <!-- Hintergrundbereiche -->
            <rect x="0" y="0" width="1496" height="270" fill="#ADE0D1" />
            <rect x="0" y="270" width="1496" height="542" fill="#F9DB90" />

            <!-- ClipPath f체r die Timeline -->
            <defs>
                <clipPath id="timelineClip">
                    <rect x="0" y="0" width="1496" height="270"/>
                </clipPath>
            </defs>

            <!-- Gruppe mit Timeline und Bildern (bewegbar) -->
            <g id="movableGroup">

                <!-- Timeline-Gruppe -->
                <g id="timeline" clip-path="url(#timelineClip)">
                    <!-- Timeline wird per JavaScript eingef체gt -->
                </g>

                <!-- Bildbereich -->
                <g id="images" transform="translate(0, 270)">
                    <!-- Platzhalterbilder -->
                    <!-- In deinem Projekt bitte durch tats채chliche URLs ersetzen -->
                    <image href="maps/1070.jpg" x="0" y="0" width="750" />
                    <image href="maps/1200.jpg" x="900" y="0" width="750" />
                    <image href="maps/1300.jpg" x="1800" y="0" width="750" />
                    <image href="maps/1400.jpg" x="2700" y="0" width="750" />
                    <image href="maps/1550.jpg" x="3600" y="0" width="750" />
                    <image href="maps/1630.jpg" x="4500" y="0" width="750" />
                    <image href="maps/1722.jpg" x="5400" y="0" width="750" />
                    <image href="maps/1830.jpg" x="6300" y="0" width="750" />
                    <image href="maps/1880.jpg" x="7200" y="0" width="750" />
                    <image href="maps/1911.jpg" x="8100" y="0" width="750" />
                </g>
            </g>
        </svg>


    </div>

</main>
<footer>

</footer>
<script type="module" src="../../index.js"></script>


<script>
    const timelineGroup = document.getElementById('timeline');

    const startYear = 1200;
    const endYear = 2000;
    const centuryWidth = 1000;
    const decadeWidth = centuryWidth / 10;
    const startX = 248;

    const largeHeight = 80;
    const smallHeight = 60;
    const barWidth = 30;

    const colorDark = '#B69131';
    const colorLight = '#DDC37E';

    for (let year = startYear; year <= endYear; year += 10) {
        const position = startX + ((year - startYear) / 10) * decadeWidth;
        const isCentury = year % 100 === 0;
        const isHalfCentury = year % 100 === 50;

        const height = (isCentury || isHalfCentury) ? largeHeight : smallHeight;
        const fill = (isCentury || isHalfCentury) ? colorDark : colorLight;

        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect.setAttribute('x', position - barWidth / 2);
        rect.setAttribute('y', 270 - height - 10); // etwas Abstand nach oben
        rect.setAttribute('width', barWidth);
        rect.setAttribute('height', height);
        rect.setAttribute('fill', fill);
        timelineGroup.appendChild(rect);

        if (isCentury) {
            const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
            text.setAttribute('x', position);
            text.setAttribute('y', 30);
            text.setAttribute('text-anchor', 'middle');
            text.setAttribute('fill', '#5E564B');
            text.setAttribute('font-size', '24');
            text.setAttribute('font-family', 'sans-serif');
            text.textContent = year;
            timelineGroup.appendChild(text);
        }
    }

    // Scroll / Drag-Funktion f체r die ganze Gruppe
    const movableGroup = document.getElementById('movableGroup');
    let isDragging = false;
    let startX = 0;
    let currentX = 0;

    document.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.clientX;
    });

    document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        const dx = e.clientX - startX;
        currentX += dx;
        movableGroup.setAttribute('transform', `translate(${currentX}, 0)`);
        startX = e.clientX;
    });

    document.addEventListener('mouseup', () => {
        isDragging = false;
    });
</script>


</body>
</html>